
--BORRAR TABLAS

drop table CIUDADANO CASCADE CONSTRAINTS;
drop table USUARIO CASCADE CONSTRAINTS;
drop table PLAN_DE_VACUNACION CASCADE CONSTRAINTS;
drop table MINISTERIO_DE_SALUD CASCADE CONSTRAINTS;
drop table PUNTO_VACUNACION CASCADE CONSTRAINTS;
drop table CITA CASCADE CONSTRAINTS;
drop table TRABAJADOR CASCADE CONSTRAINTS;
drop table VACUNA CASCADE CONSTRAINTS;
drop table OFICINA_REGIONAL_EPS CASCADE CONSTRAINTS;
drop table LIST_CONDICIONES_CIUDADANO CASCADE CONSTRAINTS;
drop table LIST_CONTRAINDICACIONES_VACUNA CASCADE CONSTRAINTS;
drop table CONDICION CASCADE CONSTRAINTS;
drop table TIPO_PUNTO_VACUNACION CASCADE CONSTRAINTS;
drop table ESTADO_VACUNACION CASCADE CONSTRAINTS;
drop table TRABAJO CASCADE CONSTRAINTS;
drop table PRIORIZACION CASCADE CONSTRAINTS;


--ALTER SESSION SET CURRENT_SCHEMA = ISIS2304D06202110; --ramirez
ALTER SESSION SET CURRENT_SCHEMA = ISIS2304D10202110; -- triana


--.....................................................
--CREACION DE TABLAS
--.....................................................



--CIUDADANO
create table CIUDADANO (
    CEDULA NUMBER (15,0),
    NOMBRE_COMPLETO VARCHAR (50) NOT NULL,
    ESTADO_VACUNACION VARCHAR (50),
    REGION VARCHAR (20) NOT NULL,
    DESEA_SER_VACUNADO NUMBER(1) NOT NULL CHECK  (DESEA_SER_VACUNADO in (0,1)),
    PLAN_DE_VACUNACION NUMBER (15,0),
    PUNTO_VACUNACION NUMBER (15,0),
    OFICINA_REGIONAL_ASIGNADA NUMBER (15,0)
);


--USUARIO
create table USUARIO (
    USERNAME VARCHAR (20),
    CONTRASENA VARCHAR (30) NOT NULL,
    CORREO VARCHAR (320) NOT NULL,
    PLAN_DE_VACUNACION NUMBER (15,0) NOT NULL,
    CIUDADANO NUMBER (15,0) NOT NULL
);


--PLAN_DE_VACUNACION
create table PLAN_DE_VACUNACION (
    ID_PLAN_DE_VACUNACION NUMBER GENERATED AS IDENTITY (START with 1 increment by 1),
    NOMBRE VARCHAR (50) NOT NULL,
    DESCRIPCION VARCHAR (1000) NOT NULL,
    FECHA_ACTUALIZACION DATE NOT NULL
);


--MINISTERIO DE SALUD
create table MINISTERIO_DE_SALUD (
    ID_MINISTERIO NUMBER GENERATED AS IDENTITY (START with 1 increment by 1),
    PLAN_DE_VACUNACION NUMBER (15,0) NOT NULL
);


--PUNTO VACUNACION
create table PUNTO_VACUNACION (
    ID_PUNTO_VACUNACION NUMBER GENERATED AS IDENTITY (START with 1 increment by 1),
    LOCALIZACION VARCHAR (50) NOT NULL,
    CAPACIDAD_DE_ATENCION_SIMULTANEA NUMBER (6,0) NOT NULL,
    INFRAESTRUCTURA_PARA_DOSIS  VARCHAR (50) NOT NULL,
    CANTIDAD_VACUNAS_ENVIABLES NUMBER (6,0) NOT NULL,
    CANTIDAD_VACUNAS_ACTUALES NUMBER (6,0) NOT NULL,
    TIPO_PUNTO_VACUNACION VARCHAR (50) NOT NULL,
    ADMINISTRADOR VARCHAR (20) NOT NULL,
    OFICINA_REGIONAL_EPS NUMBER(15,0) NOT NULL
);


--CITA
create table CITA (
    ID_CITA NUMBER GENERATED AS IDENTITY (START with 1 increment by 1),
    FECHA DATE NOT NULL,
    CIUDADANO NUMBER (15,0) NOT NULL,
    PUNTO_VACUNACION NUMBER (15,0) NOT NULL,
    VACUNA NUMBER (15,0) NOT NULL,
    HORA_CITA NUMBER (6,0) NOT NULL
);


--TRABAJADOR
create table TRABAJADOR (
    CEDULA NUMBER (15,0),
    TRABAJO VARCHAR(50) NOT NULL,
    ADMINISTRADOR_VACUANDES NUMBER(1) NOT NULL CHECK  (ADMINISTRADOR_VACUANDES in (0,1)),
    PUNTO_VACUNACION NUMBER (15,0)
);

--VACUNA
create table VACUNA (
    ID_VACUNA NUMBER GENERATED AS IDENTITY (START with 1 increment by 1),
    CONDICION_PRESERVACION VARCHAR(50) NOT NULL,
    PUNTO_VACUNACION NUMBER (15,0) NOT NULL,
    PLAN_DE_VACUNACION NUMBER (15,0) NOT NULL,
    OFICINA_REGIONAL NUMBER (15,0) NOT NULL,
    UTILIZADA NUMBER(1) NOT NULL CHECK  (UTILIZADA in (0,1))
);

--OFICINA REGIONAL EPS
create table OFICINA_REGIONAL_EPS (
    ID_OFICINA NUMBER GENERATED AS IDENTITY (START with 1 increment by 1),
    REGION VARCHAR(50) NOT NULL,
    ADMINISTRADOR VARCHAR(20) NOT NULL,
    CANTIDAD_VACUNAS_ACTUALES NUMBER (6,0) NOT NULL,
    PLAN_DE_VACUNACION NUMBER (15,0) NOT NULL
);


-- ////////////////////////////////
--  TABLAS DE CONEXION
-- ////////////////////////////////


--LIST CONDICIONES CIUDADANO
create table LIST_CONDICIONES_CIUDADANO (
    CIUDADANO NUMBER (15,0),
    CONDICION VARCHAR (50)
);

--LIST CONTRAINDICACIONES VACUNA
create table LIST_CONTRAINDICACIONES_VACUNA (
    VACUNA NUMBER (15,0),
    CONDICION VARCHAR (50)
);



-- ////////////////////////////////
--  ENUMERACIONES
-- ////////////////////////////////



--CONDICION
create table CONDICION (
    CONDICIONES VARCHAR (50),
    ETAPA NUMBER (1,0)
);


--PRIORIZACION
create table PRIORIZACION (
    ETAPA NUMBER (1,0)
);


--TIPO_PUNTO_VACUNACION
create table TIPO_PUNTO_VACUNACION (
    TIPO VARCHAR (50)
);


--ESTADO_VACUNACION
create table ESTADO_VACUNACION (
    ESTADO VARCHAR (50)
);


--TRABAJO
create table TRABAJO (
    TRABAJOS VARCHAR (50)
);


--.....................................................
--CREACION DE LLAVES PRIMARIAS
--.....................................................

--CIUDADANO
ALTER TABLE CIUDADANO
ADD CONSTRAINT CEDULA
PRIMARY KEY (CEDULA);


--USUARIO
ALTER TABLE USUARIO
ADD CONSTRAINT USERNAME
PRIMARY KEY (USERNAME);


--PLAN_DE_VACUNACION
ALTER TABLE PLAN_DE_VACUNACION
ADD CONSTRAINT ID_PLAN_DE_VACUNACION
PRIMARY KEY (ID_PLAN_DE_VACUNACION);


--MINISTERIO DE SALUD
ALTER TABLE MINISTERIO_DE_SALUD
ADD CONSTRAINT ID_MINISTERIO
PRIMARY KEY (ID_MINISTERIO);


--PUNTO VACUNACION
ALTER TABLE PUNTO_VACUNACION
ADD CONSTRAINT ID_PUNTO_VACUNACION
PRIMARY KEY (ID_PUNTO_VACUNACION);

--anadir un check para revisar las capacidades de atencion


--CITA
ALTER TABLE CITA
ADD CONSTRAINT ID_CITA
PRIMARY KEY (ID_CITA);


--TRABAJADOR
ALTER TABLE TRABAJADOR
ADD CONSTRAINT CEDULA_TRABAJADOR
PRIMARY KEY (CEDULA);


--VACUNA
ALTER TABLE VACUNA
ADD CONSTRAINT ID_VACUNA
PRIMARY KEY (ID_VACUNA);


--OFICINA REGIONAL EPS
ALTER TABLE OFICINA_REGIONAL_EPS
ADD CONSTRAINT ID_OFICINA
PRIMARY KEY (ID_OFICINA);


-- ////////////////////////////////
--  TABLAS DE CONEXION
-- ////////////////////////////////


--LIST CONDICIONES CIUDADANO
ALTER TABLE LIST_CONDICIONES_CIUDADANO
ADD CONSTRAINT CONDICION_CIUDADANO
PRIMARY KEY (CIUDADANO, CONDICION);

--LIST CONTRAINDICACIONES VACUNA
ALTER TABLE LIST_CONTRAINDICACIONES_VACUNA
ADD CONSTRAINT CONDICION_VACUNA
PRIMARY KEY (VACUNA, CONDICION);


-- ////////////////////////////////
--  ENUMERACIONES
-- ////////////////////////////////



--CONDICION
ALTER TABLE CONDICION
ADD CONSTRAINT CONDICIONES
PRIMARY KEY (CONDICIONES);


--PRIORIZACION
ALTER TABLE PRIORIZACION
ADD CONSTRAINT ETAPA
PRIMARY KEY (ETAPA);


--TIPO_PUNTO_VACUNACION
ALTER TABLE TIPO_PUNTO_VACUNACION
ADD CONSTRAINT TIPO
PRIMARY KEY (TIPO);


--ESTADO_VACUNACION
ALTER TABLE ESTADO_VACUNACION
ADD CONSTRAINT ESTADO
PRIMARY KEY (ESTADO);


--TRABAJO
ALTER TABLE TRABAJO
ADD CONSTRAINT TRABAJOS
PRIMARY KEY (TRABAJOS);



--.....................................................
--CREACION DE RESTRICCIONES
--.....................................................

--CIUDADANO
ALTER TABLE CIUDADANO
ADD CONSTRAINT ESTADO_VACUNACION_CIUDADANO
FOREIGN KEY (ESTADO_VACUNACION) REFERENCES ESTADO_VACUNACION(ESTADO);

ALTER TABLE CIUDADANO
ADD CONSTRAINT PLAN_DE_VACUNACION_CIUDADANO
FOREIGN KEY (PLAN_DE_VACUNACION) REFERENCES PLAN_DE_VACUNACION(ID_PLAN_DE_VACUNACION);

ALTER TABLE CIUDADANO
ADD CONSTRAINT PUNTO_VACUNACION_CIUDADANO
FOREIGN KEY (PUNTO_VACUNACION) REFERENCES PUNTO_VACUNACION(ID_PUNTO_VACUNACION);

ALTER TABLE CIUDADANO
ADD CONSTRAINT OFICINA_REGIONAL_ASIGNADA_CIUDADANO
FOREIGN KEY (OFICINA_REGIONAL_ASIGNADA) REFERENCES OFICINA_REGIONAL_EPS (ID_OFICINA);


--USUARIO
ALTER TABLE USUARIO
ADD CONSTRAINT CORREO_UNICO
UNIQUE (CORREO);

ALTER TABLE USUARIO
ADD CONSTRAINT PLAN_DE_VACUNACION_USUARIO
FOREIGN KEY (PLAN_DE_VACUNACION) REFERENCES PLAN_DE_VACUNACION(ID_PLAN_DE_VACUNACION);

ALTER TABLE USUARIO
ADD CONSTRAINT CIUDADANO_USUARIO
FOREIGN KEY (CIUDADANO) REFERENCES CIUDADANO(CEDULA);

ALTER TABLE USUARIO
ADD CONSTRAINT CEDULA_UNICA
UNIQUE (CIUDADANO);


--PLAN_DE_VACUNACION

ALTER TABLE PLAN_DE_VACUNACION
ADD CONSTRAINT NOMBRE_UNICO
UNIQUE (NOMBRE);


--ALTER TABLE PLAN_DE_VACUNACION 
--ADD CONSTRAINT FECHA_ANTES_DE_ACTUALIDAD 
--CHECK (FECHA_ACTUALIZACION >= );

     
--MINISTERIO DE SALUD
ALTER TABLE MINISTERIO_DE_SALUD
ADD CONSTRAINT MINISTERIO_PLAN_DE_VACUNACION
FOREIGN KEY (PLAN_DE_VACUNACION) REFERENCES PLAN_DE_VACUNACION(ID_PLAN_DE_VACUNACION);


--PUNTO VACUNACION
ALTER TABLE PUNTO_VACUNACION
ADD CONSTRAINT LOCALIZACION_UNICA
UNIQUE (LOCALIZACION);

ALTER TABLE PUNTO_VACUNACION
ADD CONSTRAINT PUNTO_VACUNACION_TIPO_PUNTO_VACUNACION
FOREIGN KEY (TIPO_PUNTO_VACUNACION) REFERENCES TIPO_PUNTO_VACUNACION(TIPO);

ALTER TABLE PUNTO_VACUNACION
ADD CONSTRAINT ADMINISTRADOR_PUNTO_VACUNACIONES
FOREIGN KEY (ADMINISTRADOR) REFERENCES USUARIO(USERNAME);

ALTER TABLE PUNTO_VACUNACION
ADD CONSTRAINT OFICINA_REGIONAL_EPS_PUNTO_VACUNACIONES
FOREIGN KEY (OFICINA_REGIONAL_EPS) REFERENCES OFICINA_REGIONAL_EPS(ID_OFICINA);

ALTER TABLE PUNTO_VACUNACION
ADD CONSTRAINT CAPACIDAD_PUNTO_VACUNACION
CHECK (CAPACIDAD_DE_ATENCION_TOTAL_DIARIA - CAPACIDAD_DE_ATENCION_SIMULTANEA >=0);


--CITA

--ACAAAA HACE FALTA LA VERIFICACION DE LA FECHAAAAAA

ALTER TABLE CITA
ADD CONSTRAINT CITA_CIUDADANO
FOREIGN KEY (CIUDADANO) REFERENCES CIUDADANO(CEDULA);

ALTER TABLE CITA
ADD CONSTRAINT PUNTO_VACUNACION_CITA
FOREIGN KEY (PUNTO_VACUNACION) REFERENCES PUNTO_VACUNACION(ID_PUNTO_VACUNACION);

ALTER TABLE CITA
ADD CONSTRAINT VACUNA_CITA
FOREIGN KEY (VACUNA) REFERENCES VACUNA(ID_VACUNA);

ALTER TABLE CITA
ADD CONSTRAINT VACUNA_UNICA
UNIQUE (VACUNA);


--TRABAJADOR
ALTER TABLE TRABAJADOR
ADD CONSTRAINT TRABAJADOR_CIUDADANO
FOREIGN KEY (CEDULA) REFERENCES CIUDADANO(CEDULA);

ALTER TABLE TRABAJADOR
ADD CONSTRAINT TRABAJADOR_TRABAJO
FOREIGN KEY (TRABAJO) REFERENCES TRABAJO(TRABAJOS);

ALTER TABLE TRABAJADOR
ADD CONSTRAINT TRABAJADOR_PUNTO_VACUNACION
FOREIGN KEY (PUNTO_VACUNACION) REFERENCES PUNTO_VACUNACION(ID_PUNTO_VACUNACION);


--VACUNA
ALTER TABLE VACUNA
ADD CONSTRAINT VACUNA_PUNTO_VACUNACION
FOREIGN KEY (PUNTO_VACUNACION) REFERENCES PUNTO_VACUNACION(ID_PUNTO_VACUNACION);

ALTER TABLE VACUNA
ADD CONSTRAINT VACUNA_PLAN_DE_VACUNACION
FOREIGN KEY (PLAN_DE_VACUNACION) REFERENCES PLAN_DE_VACUNACION(ID_PLAN_DE_VACUNACION);

ALTER TABLE VACUNA
ADD CONSTRAINT OFICINA_REGIONAL_VACUNA
FOREIGN KEY (OFICINA_REGIONAL) REFERENCES OFICINA_REGIONAL_EPS (ID_OFICINA);


--OFICINA REGIONAL EPS
ALTER TABLE OFICINA_REGIONAL_EPS
ADD CONSTRAINT ADMINISTRADOR_OFICINA_REGIONAL_EPS
FOREIGN KEY (ADMINISTRADOR) REFERENCES USUARIO(USERNAME);

ALTER TABLE OFICINA_REGIONAL_EPS
ADD CONSTRAINT OFICINA_REGIONAL_EPS_PLAN_DE_VACUNACION
FOREIGN KEY (PLAN_DE_VACUNACION) REFERENCES PLAN_DE_VACUNACION(ID_PLAN_DE_VACUNACION);


-- ////////////////////////////////
--  TABLAS DE CONEXION
-- ////////////////////////////////


--LIST CONDICIONES CIUDADANO
ALTER TABLE LIST_CONDICIONES_CIUDADANO
ADD CONSTRAINT LIST_CONDICIONES_CIUDADANO_CIUDADANO
FOREIGN KEY (CIUDADANO) REFERENCES CIUDADANO(CEDULA);

ALTER TABLE LIST_CONDICIONES_CIUDADANO
ADD CONSTRAINT LIST_CONDICIONES_CIUDADANO_CONDICION
FOREIGN KEY (CONDICION) REFERENCES CONDICION(CONDICIONES);


--LIST CONTRAINDICACIONES VACUNA
ALTER TABLE LIST_CONTRAINDICACIONES_VACUNA
ADD CONSTRAINT LIST_CONTRAINDICACIONES_VACUNA_VACUNA
FOREIGN KEY (VACUNA) REFERENCES VACUNA(ID_VACUNA);

ALTER TABLE LIST_CONTRAINDICACIONES_VACUNA
ADD CONSTRAINT LIST_CONTRAINDICACIONES_VACUNA_CONDICION
FOREIGN KEY (CONDICION) REFERENCES CONDICION(CONDICIONES);



-- ////////////////////////////////
--  ENUMERACIONES
-- ////////////////////////////////



--CONDICION
ALTER TABLE CONDICION
ADD CONSTRAINT CONDICION_PRIORIZACION
FOREIGN KEY (ETAPA) REFERENCES PRIORIZACION(ETAPA);

--PRIORIZACION

--TIPO_PUNTO_VACUNACION

--ESTADO_VACUNACION

--TRABAJO


--.....................................................
--CONTENIDO ENUMERACIONES
--.....................................................


INSERT INTO ESTADO_VACUNACION (ESTADO) VALUES ('Vacunado');
INSERT INTO ESTADO_VACUNACION (ESTADO) VALUES ('No vacunado');
INSERT INTO ESTADO_VACUNACION (ESTADO) VALUES ('Primera dosis');

INSERT INTO PRIORIZACION (ETAPA) VALUES (1);
INSERT INTO PRIORIZACION (ETAPA) VALUES (2);
INSERT INTO PRIORIZACION (ETAPA) VALUES (3);
INSERT INTO PRIORIZACION (ETAPA) VALUES (4);
INSERT INTO PRIORIZACION (ETAPA) VALUES (5);

INSERT INTO TIPO_PUNTO_VACUNACION (TIPO) VALUES ('Hospital');
INSERT INTO TIPO_PUNTO_VACUNACION (TIPO) VALUES ('Clinica');
INSERT INTO TIPO_PUNTO_VACUNACION (TIPO) VALUES ('Centro de salud');
INSERT INTO TIPO_PUNTO_VACUNACION (TIPO) VALUES ('Otro');

INSERT INTO TRABAJO (TRABAJOS) VALUES ('Administrador plan de vacunacion');
INSERT INTO TRABAJO (TRABAJOS) VALUES ('Administrador punto vacunacion');
INSERT INTO TRABAJO (TRABAJOS) VALUES ('Operador punto vacunacion');
INSERT INTO TRABAJO (TRABAJOS) VALUES ('Administrador oficina punto regional eps');
INSERT INTO TRABAJO (TRABAJOS) VALUES ('Talento humano punto vacunacion');

INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('Adulto mayor (+80)', 1);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('THS servicio social obligatorio', 1);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('THS contacto directo', 1);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('THS servicios generales', 1);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('Tecnico y epidemiologo', 1);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('Adulto mayor (60-79)', 2);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('THS establecimiento carcelario', 2);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('THS tradicional', 2);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('THS estudiante', 2);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('Condicion vulnerable', 3);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('Agente educativo', 3);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('Funcionario publico', 3);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('THS funerarias', 3);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('Privado de libertad', 4);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('Bombero o socorrista', 4);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('Habitante de calle', 4);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('Trabajador aereo', 4);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('Adulto (50-59)', 5);
INSERT INTO CONDICION (CONDICIONES, ETAPA) VALUES ('Adulto (16-49)', 5);


ALTER SESSION SET CURRENT_SCHEMA = ISIS2304D10202110; -- triana
--ALTER SESSION SET CURRENT_SCHEMA = ISIS2304D06202110; --ramirez

--PLAN_DE_VACUNACION
INSERT INTO PLAN_DE_VACUNACION ( NOMBRE, DESCRIPCION, FECHA_ACTUALIZACION) VALUES ( 'Plan 1 Colombia', 'Descripcion de prueba', TO_DATE('2021/04/07 21:02:44', 'yyyy/mm/dd hh24:mi:ss'));

--MINISTERIO_SALUD
INSERT INTO MINISTERIO_DE_SALUD (PLAN_DE_VACUNACION) VALUES (1);

--CIUDADANO
INSERT INTO CIUDADANO (CEDULA, NOMBRE_COMPLETO, ESTADO_VACUNACION, REGION, DESEA_SER_VACUNADO,PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL_ASIGNADA) VALUES (1001168160,'Santiago Triana', NULL, 'Andina', 1, NULL, NULL, NULL);
INSERT INTO CIUDADANO (CEDULA, NOMBRE_COMPLETO, ESTADO_VACUNACION, REGION, DESEA_SER_VACUNADO,PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL_ASIGNADA) VALUES (1001168161,'Juan Sebastian Ramirez', NULL, 'Andina', 1, NULL, NULL, NULL);
INSERT INTO CIUDADANO (CEDULA, NOMBRE_COMPLETO, ESTADO_VACUNACION, REGION, DESEA_SER_VACUNADO,PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL_ASIGNADA) VALUES (1001168162,'Alexander Amores', NULL, 'Andina', 0, NULL, NULL, NULL);
INSERT INTO CIUDADANO (CEDULA, NOMBRE_COMPLETO, ESTADO_VACUNACION, REGION, DESEA_SER_VACUNADO,PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL_ASIGNADA) VALUES (1001168163,'Maria Sandoval', NULL, 'Andina', 0, NULL, NULL, NULL);
INSERT INTO CIUDADANO (CEDULA, NOMBRE_COMPLETO, ESTADO_VACUNACION, REGION, DESEA_SER_VACUNADO,PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL_ASIGNADA) VALUES (1001168164,'Geronimo Gonzales', NULL, 'Andina', 1, NULL, NULL, NULL);
INSERT INTO CIUDADANO (CEDULA, NOMBRE_COMPLETO, ESTADO_VACUNACION, REGION, DESEA_SER_VACUNADO,PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL_ASIGNADA) VALUES (1001168165,'Benedicta Ramirez', NULL, 'Andina', 1, NULL, NULL, NULL);
INSERT INTO CIUDADANO (CEDULA, NOMBRE_COMPLETO, ESTADO_VACUNACION, REGION, DESEA_SER_VACUNADO,PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL_ASIGNADA) VALUES (1001168166,'Adolfo Perez', NULL, 'Andina', 1, NULL, NULL, NULL);
INSERT INTO CIUDADANO (CEDULA, NOMBRE_COMPLETO, ESTADO_VACUNACION, REGION, DESEA_SER_VACUNADO,PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL_ASIGNADA) VALUES (1001168167,'Roberto Giraldo', NULL, 'Caribe', 1, NULL, NULL, NULL);
INSERT INTO CIUDADANO (CEDULA, NOMBRE_COMPLETO, ESTADO_VACUNACION, REGION, DESEA_SER_VACUNADO,PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL_ASIGNADA) VALUES (1001168168,'Nestor Guevara', NULL, 'Caribe', 1, NULL, NULL, NULL);
INSERT INTO CIUDADANO (CEDULA, NOMBRE_COMPLETO, ESTADO_VACUNACION, REGION, DESEA_SER_VACUNADO,PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL_ASIGNADA) VALUES (1001168169,'Marta Contreras', NULL, 'Caribe', 1, NULL, NULL, NULL);
INSERT INTO CIUDADANO (CEDULA, NOMBRE_COMPLETO, ESTADO_VACUNACION, REGION, DESEA_SER_VACUNADO,PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL_ASIGNADA) VALUES (1001168170,'Elisa Madrid', NULL, 'Caribe', 1, NULL, NULL, NULL);

--USUARIO
INSERT INTO USUARIO (USERNAME,CONTRASENA,CORREO,PLAN_DE_VACUNACION,CIUDADANO) VALUES ('a.trianaa','contrasena1','a.trianaa@uniandes.edu.co', 1, '1001168160');
INSERT INTO USUARIO (USERNAME,CONTRASENA,CORREO,PLAN_DE_VACUNACION,CIUDADANO) VALUES ('j.ramirezb','contrasena2','j.ramirez@uniandes.edu.co', 1, '1001168161');
INSERT INTO USUARIO (USERNAME,CONTRASENA,CORREO,PLAN_DE_VACUNACION,CIUDADANO) VALUES ('alemores','contrasena3','alemores@gmail.com', 1, '1001168162');
INSERT INTO USUARIO (USERNAME,CONTRASENA,CORREO,PLAN_DE_VACUNACION,CIUDADANO) VALUES ('maria123','contrasena4','maria123@yahoo.es', 1, '1001168163');


--TRABAJADOR
INSERT INTO TRABAJADOR (CEDULA, TRABAJO, ADMINISTRADOR_VACUANDES) VALUES (1001168160, 'Administrador plan de vacunacion', 1);
INSERT INTO TRABAJADOR (CEDULA, TRABAJO, ADMINISTRADOR_VACUANDES) VALUES (1001168161, 'Administrador punto vacunacion', 1);
INSERT INTO TRABAJADOR (CEDULA, TRABAJO, ADMINISTRADOR_VACUANDES) VALUES (1001168162, 'Administrador oficina punto regional eps', 1);
INSERT INTO TRABAJADOR (CEDULA, TRABAJO, ADMINISTRADOR_VACUANDES) VALUES (1001168163, 'Operador punto vacunacion', 1);

--OFICINA_REGIONAL_EPS
INSERT INTO OFICINA_REGIONAL_EPS (REGION, ADMINISTRADOR, CANTIDAD_VACUNAS_ACTUALES, PLAN_DE_VACUNACION) VALUES ('Andina', 'alemores', 8, 1);
INSERT INTO OFICINA_REGIONAL_EPS (REGION, ADMINISTRADOR, CANTIDAD_VACUNAS_ACTUALES, PLAN_DE_VACUNACION) VALUES ('Caribe', 'alemores', 0, 1);

--PUNTO_DE_VACUNACION
INSERT INTO PUNTO_VACUNACION (LOCALIZACION, CAPACIDAD_DE_ATENCION_SIMULTANEA, INFRAESTRUCTURA_PARA_DOSIS, CANTIDAD_VACUNAS_ENVIABLES, CANTIDAD_VACUNAS_ACTUALES, TIPO_PUNTO_VACUNACION, ADMINISTRADOR, OFICINA_REGIONAL_EPS)
VALUES ('Cra 54#178-12 Oficina 1', 2, 'Congeladores, Cubiculos separados', 500, 8, 'Centro de salud', 'j.ramirezb',1);
INSERT INTO PUNTO_VACUNACION (LOCALIZACION, CAPACIDAD_DE_ATENCION_SIMULTANEA, INFRAESTRUCTURA_PARA_DOSIS, CANTIDAD_VACUNAS_ENVIABLES, CANTIDAD_VACUNAS_ACTUALES, TIPO_PUNTO_VACUNACION, ADMINISTRADOR, OFICINA_REGIONAL_EPS)
VALUES ('Calle 12#57-34', 30, 'Todos los necesarios', 3000, 0, 'Hospital', 'j.ramirezb',1);
INSERT INTO PUNTO_VACUNACION (LOCALIZACION, CAPACIDAD_DE_ATENCION_SIMULTANEA, INFRAESTRUCTURA_PARA_DOSIS, CANTIDAD_VACUNAS_ENVIABLES, CANTIDAD_VACUNAS_ACTUALES, TIPO_PUNTO_VACUNACION, ADMINISTRADOR, OFICINA_REGIONAL_EPS)
VALUES ('Diganal 123 #14', 30, 'Cubiculos separados', 1000, 0, 'Otro', 'j.ramirezb',2);


--VACUNA
INSERT INTO VACUNA (CONDICION_PRESERVACION, PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL, UTILIZADA)
VALUES ('Congelada', 1, 1, 1, 1);
INSERT INTO VACUNA (CONDICION_PRESERVACION, PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL, UTILIZADA)
VALUES ('Congelada', 1, 1, 1, 1);
INSERT INTO VACUNA (CONDICION_PRESERVACION, PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL, UTILIZADA)
VALUES ('Congelada', 1, 1, 1, 0);
INSERT INTO VACUNA (CONDICION_PRESERVACION, PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL, UTILIZADA)
VALUES ('Congelada', 1, 1, 1, 0);
INSERT INTO VACUNA (CONDICION_PRESERVACION, PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL, UTILIZADA)
VALUES ('Congelada', 1, 1, 1, 0);
INSERT INTO VACUNA (CONDICION_PRESERVACION, PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL, UTILIZADA)
VALUES ('Congelada', 1, 1, 1, 0);
INSERT INTO VACUNA (CONDICION_PRESERVACION, PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL, UTILIZADA)
VALUES ('Congelada', 1, 1, 1, 0);
INSERT INTO VACUNA (CONDICION_PRESERVACION, PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL, UTILIZADA)
VALUES ('Congelada', 1, 1, 1, 0);
INSERT INTO VACUNA (CONDICION_PRESERVACION, PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL, UTILIZADA)
VALUES ('Congelada', 1, 1, 1, 0);
INSERT INTO VACUNA (CONDICION_PRESERVACION, PUNTO_VACUNACION, PLAN_DE_VACUNACION, OFICINA_REGIONAL, UTILIZADA)
VALUES ('Congelada', 1, 1, 1, 0);

--CITA
INSERT INTO CITA (FECHA, CIUDADANO, PUNTO_VACUNACION, VACUNA, HORA_CITA) VALUES (TO_DATE('2021/06/06', 'yyyy/mm/dd'),1001168164,1,1,1200);
INSERT INTO CITA (FECHA, CIUDADANO, PUNTO_VACUNACION, VACUNA, HORA_CITA) VALUES (TO_DATE('2021/06/06', 'yyyy/mm/dd'),1001168165,1,2,1200);

--Update de los ciudadanos con puntos de vacunación y regiones
UPDATE ciudadanos SET PUNTO_VACUNACION= 1, PLAN_DE_VACUNACION= 1, OFICINA_REGIONAL_ASIGNADA = 1 WHERE CEDULA = 1001168160;
UPDATE ciudadanos SET PUNTO_VACUNACION= 1, PLAN_DE_VACUNACION= 1, OFICINA_REGIONAL_ASIGNADA = 1 WHERE CEDULA = 1001168161;
UPDATE ciudadanos SET PUNTO_VACUNACION= 1, PLAN_DE_VACUNACION= 1, OFICINA_REGIONAL_ASIGNADA = 1 WHERE CEDULA = 1001168162;
UPDATE ciudadanos SET PUNTO_VACUNACION= 2, PLAN_DE_VACUNACION= 1, OFICINA_REGIONAL_ASIGNADA = 1 WHERE CEDULA = 1001168163;
UPDATE ciudadanos SET PUNTO_VACUNACION= 2, PLAN_DE_VACUNACION= 1, OFICINA_REGIONAL_ASIGNADA = 1 WHERE CEDULA = 1001168164;
UPDATE ciudadanos SET PUNTO_VACUNACION= 2, PLAN_DE_VACUNACION= 1, OFICINA_REGIONAL_ASIGNADA = 1 WHERE CEDULA = 1001168165;
UPDATE ciudadanos SET PUNTO_VACUNACION= 2, PLAN_DE_VACUNACION= 1, OFICINA_REGIONAL_ASIGNADA = 1 WHERE CEDULA = 1001168166;
UPDATE ciudadanos SET PUNTO_VACUNACION= 3, PLAN_DE_VACUNACION= 1, OFICINA_REGIONAL_ASIGNADA = 2 WHERE CEDULA = 1001168167;
UPDATE ciudadanos SET PUNTO_VACUNACION= 3, PLAN_DE_VACUNACION= 1, OFICINA_REGIONAL_ASIGNADA = 2 WHERE CEDULA = 1001168168;
UPDATE ciudadanos SET PUNTO_VACUNACION= 3, PLAN_DE_VACUNACION= 1, OFICINA_REGIONAL_ASIGNADA = 2 WHERE CEDULA = 1001168169;
UPDATE ciudadanos SET PUNTO_VACUNACION= 3, PLAN_DE_VACUNACION= 1, OFICINA_REGIONAL_ASIGNADA = 2 WHERE CEDULA = 1001168170;

commit;